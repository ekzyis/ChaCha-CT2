<UserControl x:Class="Cryptool.Plugins.ChaCha.ChaChaPresentation"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800"
             Background="White">
  <!-- Main grid with 2 rows. One big row row for content pane and one small row for navigation bar at bottom -->
  <Grid Margin="5">
    <Grid.RowDefinitions>
      <RowDefinition Height="95*"></RowDefinition> <!-- Content row -->
      <RowDefinition Height="3*"></RowDefinition> <!-- Navigation bar row -->
    </Grid.RowDefinitions>
    <!-- Navigation bar -->
    <Grid Name="Navbar" Grid.Row="1">
        <Button Name="Next" Click="Next_Click">NEXT</Button>
    </Grid>
    <!-- Main grid for content pane -->
    <Grid Name="Contentpane">
      <!-- Landing page -->
      <Grid Name="Landingpage">
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
          <TextBlock Margin="10" FontSize="24" HorizontalAlignment="Center">
            ChaCha Visualization
          </TextBlock>
          <TextBlock HorizontalAlignment="Center">
            A stream cipher used in TLS by Daniel J. Bernstein
          </TextBlock>
        </StackPanel>
      </Grid>
      <!-- ChaCha workflow page -->
      <Grid Name="Workflowpage" Visibility="Collapsed">
        <Grid Margin="20">
          <!-- Grid for title and content -->
          <Grid>
            <Grid.RowDefinitions>
              <RowDefinition Height="50" /> <!-- Title row -->
              <RowDefinition /> <!-- Content row -->
            </Grid.RowDefinitions>
            <!-- Title -->
            <TextBlock Grid.Row="0" HorizontalAlignment="Center" FontSize="20">ChaCha workflow</TextBlock>
            <!-- Grid for content -->
            <Grid Grid.Row="1">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="4*"/> <!-- Steps + description column -->
                <ColumnDefinition Width="3*"/> <!-- Input params column -->
              </Grid.ColumnDefinitions>
              <!-- Steps + description -->
              <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                  <RowDefinition></RowDefinition>
                  <RowDefinition Height="6*"></RowDefinition>
                </Grid.RowDefinitions>
                <!-- Description -->
                <StackPanel Grid.Row="0">
                  <TextBlock TextWrapping="Wrap">Since ChaCha is a stream cipher, it encrypts messages by XOR'ing them with its keystream. The keystream depends on the key and initialization vector as we will see.</TextBlock>
                  <TextBlock TextWrapping="Wrap">The keystream is generated by concatenating keystream blocks. To be able to XOR the whole message with the keystream, the keystream length must be equal or larger than the input length.</TextBlock>
                </StackPanel>
                <!-- Steps -->
                <Grid  Grid.Row="1">
                  <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                  </Grid.RowDefinitions>
                  <StackPanel Grid.Row="0">
                    <TextBlock TextWrapping="Wrap">This leads us to following steps:</TextBlock>
                  </StackPanel>
                  <StackPanel Margin="30,0,0,0" Grid.Row="1">
                    <TextBlock TextWrapping="Wrap">1. Generate keystream blocks</TextBlock>
                  </StackPanel>
                  <StackPanel Margin="30,0,0,0"  Grid.Row="2">
                    <TextBlock TextWrapping="Wrap">2. Chain keystream blocks</TextBlock>
                  </StackPanel>
                  <StackPanel Margin="30,0,0,0" Grid.Row="3">
                    <TextBlock TextWrapping="Wrap">3. XOR input with keystream</TextBlock>
                  </StackPanel>
                </Grid>
              </Grid>
              <!-- Input parameter -->
              <Grid Margin="100,0,0,0" Grid.Column="1">
                <Grid.RowDefinitions>
                  <RowDefinition Height="1*"></RowDefinition>
                  <RowDefinition Height="4*"></RowDefinition>
                  <RowDefinition Height="4*"></RowDefinition>
                  <RowDefinition Height="4*"></RowDefinition>
                </Grid.RowDefinitions>
                <Label Grid.Row="0" HorizontalAlignment="Center">Input parameters</Label>
                <StackPanel Grid.Row="1" Orientation="Horizontal">
                  <Label>Key:</Label>
                  <Label Name="inputParamsKey"></Label>
                </StackPanel>
                <StackPanel Grid.Row="2" Orientation="Horizontal">
                <Label>Initialization vector (IV):</Label>
                  <Label Name="inputParamsIV"></Label>
                </StackPanel>
                <StackPanel Grid.Row="3" Orientation="Horizontal">
                  <Label>Input message:</Label>
                  <Label Name="inputParamsInput"></Label>
                </StackPanel>
              </Grid>
            </Grid>
          </Grid>
        </Grid>
      </Grid>
      <!-- Grid for state matrix -->
      <Grid Name="State" Visibility="Collapsed">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="25*" />
          <ColumnDefinition Width="25*" />
          <ColumnDefinition Width="25*" />
          <ColumnDefinition Width="25*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
          <RowDefinition />
          <RowDefinition />
          <RowDefinition />
          <RowDefinition />
        </Grid.RowDefinitions>
        <Label Name="C0" Grid.Row="0" Grid.Column="0"/>
        <Label Name="C1" Grid.Row="0" Grid.Column="1"/>
        <Label Name="C2" Grid.Row="0" Grid.Column="2"/>
        <Label Name="C3" Grid.Row="0" Grid.Column="3"/>
        <Label Name="K0" Grid.Row="1" Grid.Column="0"/>
        <Label Name="K1" Grid.Row="1" Grid.Column="1"/>
        <Label Name="K2" Grid.Row="1" Grid.Column="2"/>
        <Label Name="K3" Grid.Row="1" Grid.Column="3"/>
        <Label Name="K4" Grid.Row="2" Grid.Column="0"/>
        <Label Name="K5" Grid.Row="2" Grid.Column="1"/>
        <Label Name="K6" Grid.Row="2" Grid.Column="2"/>
        <Label Name="K7" Grid.Row="2" Grid.Column="3"/>
        <Label Name="Input0" Grid.Row="3" Grid.Column="0"/>
        <Label Name="Input1" Grid.Row="3" Grid.Column="1"/>
        <Label Name="Input2" Grid.Row="3" Grid.Column="2"/>
        <Label Name="Input3" Grid.Row="3" Grid.Column="3"/>
      </Grid>
  </Grid>
</Grid>
</UserControl>